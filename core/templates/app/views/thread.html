{% extends '../../layouts/baseLayout.html' %}

{% block content %}
<div class="row">
    <div class="col-lg-6 col-md-12">
        <h2>
          Title: {{ object.title }}
          <a href="{% url 'update' object.pk %}" class="btn btn-primary text-white">Update</a>
        </h2>
        <table class="table table-hover">
            <tbody>
              <tr>
                    <th scope="row">Description</th>
                    <td>{{ object.description }}</td>
                  </tr>
              <tr>
                <th scope="row">Who</th>
                <td>{{ object.who }}</td>
              </tr>
              <tr>
                <th scope="row">What</th>
                <td>{{ object.what }}</td>
              </tr>
              <tr>
                <th scope="row">Where</th>
                <td>{{ object.where }}</td>
              </tr>
              <tr>
                <th scope="row">Whene</th>
                <td>{{ object.when }}</td>
              </tr>
              <tr>
                <th scope="row">Why</th>
                <td colspan="2">{{ object.why }}</td>
              </tr>
            </tbody>
          </table>
    </div>
    <div class="col-lg-6 col-md-12">
        <h2>Sources:</h2>
      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th>#</th>
              <th>Header</th>
              <th>Header</th>
              <th>Header</th>
              <th>Header</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1,001</td>
              <td>Lorem</td>
              <td>ipsum</td>
              <td>dolor</td>
              <td>sit</td>
            </tr>
            <tr>
              <td>1,002</td>
              <td>amet</td>
              <td>consectetur</td>
              <td>adipiscing</td>
              <td>elit</td>
            </tr>
            <tr>
              <td>1,003</td>
              <td>Integer</td>
              <td>nec</td>
              <td>odio</td>
              <td>Praesent</td>
            </tr>
            <tr>
              <td>1,003</td>
              <td>libero</td>
              <td>Sed</td>
              <td>cursus</td>
              <td>ante</td>
            </tr>
            <tr>
              <td>1,004</td>
              <td>dapibus</td>
              <td>diam</td>
              <td>Sed</td>
              <td>nisi</td>
            </tr>
            <tr>
              <td>1,005</td>
              <td>Nulla</td>
              <td>quis</td>
              <td>sem</td>
              <td>at</td>
            </tr>
            <tr>
              <td>1,006</td>
              <td>nibh</td>
              <td>elementum</td>
              <td>imperdiet</td>
              <td>Duis</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
</div>
<hr>
<div class="row">
    <div class="col-lg-6 col-md-12">
        <h2>Testimonies: 
          <a href="{% url 'approve' object.pk %}" class="btn btn-success text-white">Approve</a>
          <a href="{% url 'reject' object.pk %}" class="btn btn-danger text-white">Reject</a></h2>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Time</th>
                    <th scope="col">Choice</th>
                    <th scope="col">Comment</th>
                </tr>
            </thead>
            <tbody>
                {% for element in testimonies %}
                <tr>
                      <td>{% now "SHORT_DATETIME_FORMAT" %}</td>
                    {% if element.choice %}
                        <td class="text-success">{{element.choice}}</td>
                        <td class="text-success">{{element.comment}}</td>
                    {% else %}
                        <td class="text-danger">{{element.choice}}</td>
                        <td class="text-danger">{{element.comment}}</td>
                    {% endif %}   
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-lg-6 col-md-12">
        <h2>Stats so far: </h2>
        <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Time</th>
                  <th>Voters</th>
                  <th>Approvals</th>
                  <th>Rejections</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{% now "SHORT_DATETIME_FORMAT" %}</td>
                  <td>{{num}}</td>
                  <td class="text-success">{{positive}}</td>
                  <td class="text-danger">{{negative}}</td>
                </tr>
              </tbody>
            </table>
          </div>
    </div>
</div>
<div class="row">
  <div class="col-12">
    <h2>Activity:</h2>
    <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>
  </div>
</div>

{% endblock %}